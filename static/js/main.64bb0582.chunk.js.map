{"version":3,"sources":["MusicMap.js","About.js","App.js","index.js"],"names":["MusicMap","props","data","audioPlayerUrl","togglePlay","useState","tooltipContent","setTooltipContent","slice","cells","CustomTooltip","active","payload","label","length","className","printReadableString","i","push","Cell","onMouseOver","genre","onClick","preview_url","onTouchStart","fill","color","stroke","strokeWidth","ScatterChart","width","height","margin","top","right","bottom","left","CartesianGrid","vertical","horizontal","XAxis","hide","type","dataKey","YAxis","content","Scatter","name","str","split","map","word","toUpperCase","substring","join","About","aboutToggle","setAboutToggle","e","target","href","App","audioPlayer","useRef","audioPlayerKey","setAudioPlayerKey","setAudioPlayerUrl","audioPlayerGenre","setAudioPlayerGenre","isPlaying","setIsPlaying","onShuffle","setOnShuffle","initialData","setData","url","current","pause","play","useEffect","getNewMusicMap","Tooltip","title","IconButton","preventDefault","style","fontSize","AudioPlayer","ref","checkOnShuffle","Math","floor","random","forwardRef","volume","controls","onEnded","src","arr","n","result","Array","len","taken","RangeError","x","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.64bb0582.chunk.js","sourcesContent":["import React, { useState } from \"react\";\nimport {\n  ScatterChart,\n  Scatter,\n  Cell,\n  Tooltip,\n  CartesianGrid,\n  XAxis,\n  YAxis,\n} from \"recharts\";\nimport { MapInteractionCSS } from \"react-map-interaction\";\n\nexport default function MusicMap(props) {\n  let { data, audioPlayerUrl, togglePlay } = props;\n  const [tooltipContent, setTooltipContent] = useState(\"\");\n\n  data = data.slice(0, 400);\n  let cells = [];\n\n  const CustomTooltip = ({ active, payload, label }) => {\n    if (active && payload && payload.length) {\n      return <div className=\"custom-tooltip\">{printReadableString(tooltipContent)}</div>;\n    }\n    return null;\n  };\n\n  for (let i = 0; i < data.length; i++) {\n    cells.push(\n      <Cell\n        onMouseOver={() => setTooltipContent(data[i].genre)}\n        onClick={() => togglePlay(data[i].preview_url, data[i].genre)}\n        onTouchStart={() => togglePlay(data[i].preview_url, data[i].genre)}\n        key={`cell-${data[i].genre}`}\n        fill={data[i].color}\n        stroke={data[i].color}\n        strokeWidth={\n          audioPlayerUrl ===\n          `https://p.scdn.co/mp3-preview/${data[i].preview_url}`\n            ? 25\n            : 8\n        }\n      />\n    );\n  }\n\n  return (\n    <MapInteractionCSS>\n      <ScatterChart\n        width={2200}\n        height={1400}\n        margin={{\n          top: 20,\n          right: 20,\n          bottom: 20,\n          left: 20,\n        }}\n      >\n        <CartesianGrid vertical={false} horizontal={false} />\n        <XAxis hide={true} type=\"number\" dataKey=\"left\" />\n        <YAxis hide={true} type=\"number\" dataKey=\"top\" />\n        <Tooltip content={<CustomTooltip />} />\n        <Scatter name=\"data\" data={data} fill=\"#8884d8\">\n          {cells}\n        </Scatter>\n      </ScatterChart>\n    </MapInteractionCSS>\n  );\n}\n\nfunction printReadableString(str) {\n  if (str === \"\") {\n    return \"\";\n  }\n  const words = str.split(\" \");\n  const result = words.map((word) => { \n    return word[0].toUpperCase() + word.substring(1); \n  }).join(\" \");\n\n  return result\n}","export default function About(props) {\n  const { aboutToggle, setAboutToggle } = props;\n  return (\n    <div className={aboutToggle ? \"\" : \"hidden\"}>\n      <div className=\"about-background\" />\n      <div\n        className=\"about\"\n        onClick={(e) => {\n          if (!e.target.href) {\n            setAboutToggle(false);\n          }\n        }}\n      >\n        <div className=\"font-size-64\">MusicMap</div>\n        <div>by Vincent Tieu</div>\n        <br />\n        <a href=\"https://github.com/vincentktieu101/MusicMap\" target=\"_blank\">\n          https://github.com/vincentktieu101/MusicMap\n        </a>\n        <div className=\"width-500-less\">\n          <br />\n          <br />\n          <br />\n          <div>\n            MusicMap is a visual way to explore 5000+ genres! Scroll to zoom and\n            click to drag across the map. Once you're ready, select a genre and\n            listen to a 30 second sample. Refreshing the map repicks 400 genres\n            of the 5000+. Shuffle queues a random song for as long as it's toggled.\n          </div>\n          <br />\n          <br />\n          <div>\n            Generally, the type of genres are organized by color and location.\n            Blue genres are typically instrumentals. Pink genres describe\n            electronic music/EDM. Orange genres are mainly rock. Red\n            genres are metal. Green and Yellow genres describe everything from\n            indie to pop. Genres closer together sound similar while genres\n            further away sound less similar.\n          </div>\n          <br />\n          <br />\n          <div>\n            When you find a genre you really like, you can lookup \"The Sound of\n            {\" <insert-genre-here>\"} on Spotify, where there's an awesome playlist ready for you.\n            To listen to all the genres at once, checkout{\" \"}\n            <a \n              href=\"https://open.spotify.com/playlist/69fEt9DN5r4JQATi52sRtq\"\n              target=\"_blank\">\n              https://open.spotify.com/playlist/69fEt9DN5r4JQATi52sRtq.\n            </a>\n          </div>\n          <br />\n          <br />\n          <div>\n            MusicMap is built in ReactJS, Material-UI, Recharts, and React-Map-Interaction. The data\n            was gathered by using a scrapping tool on{\" \"}\n            <a href=\"https://everynoise.com/\" target=\"_blank\">\n              https://everynoise.com/.\n            </a>{\" \"}\n            This app was designed primarily for desktop but also works well on\n            mobile :)\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React, { useState, useEffect, useRef, forwardRef } from \"react\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport RefreshIcon from \"@material-ui/icons/Refresh\";\nimport MenuBookIcon from '@material-ui/icons/MenuBook';\nimport RepeatIcon from '@material-ui/icons/Repeat';\n\nimport MusicMap from \"./MusicMap\";\nimport About from \"./About\";\nimport initialData from \"./scrapes/db.json\";\n\nexport default function App() {\n  const audioPlayer = useRef();\n  const [aboutToggle, setAboutToggle] = useState(false);\n  const [audioPlayerKey, setAudioPlayerKey] = useState(0);\n  const [audioPlayerUrl, setAudioPlayerUrl] = useState(\"\");\n  const [audioPlayerGenre, setAudioPlayerGenre] = useState(\"\");\n  const [isPlaying, setIsPlaying] = useState(false);\n  const [onShuffle, setOnShuffle] = useState(false);\n  const [data, setData] = useState(initialData);\n\n  useEffect(() => {\n    setData(getNewMusicMap(initialData));\n  }, []);\n\n  function togglePlay(url, genre) {\n    if (audioPlayerUrl === `https://p.scdn.co/mp3-preview/${url}`) {\n      if (isPlaying) {\n        audioPlayer.current.pause();\n      } else {\n        audioPlayer.current.play();\n      }\n      setIsPlaying(!isPlaying);\n    } else {\n      setAudioPlayerUrl(`https://p.scdn.co/mp3-preview/${url}`);\n      setAudioPlayerKey(audioPlayerKey + 1);\n      setIsPlaying(true);\n      setAudioPlayerGenre(genre);\n    }\n  }\n\n  function checkOnShuffle() {\n    if (onShuffle) {\n      const i = Math.floor(Math.random() * 400);\n      togglePlay(data[i].preview_url, data[i].genre);\n    }\n  }\n\n  return (\n    <>\n      <About aboutToggle={aboutToggle} setAboutToggle={setAboutToggle} />\n      <div className=\"brand\">\n        <div className=\"app-title\">\n          MusicMap\n          <Tooltip\n            title={<div className=\"custom-tooltip-black\">Refresh Map</div>}\n          >\n            <IconButton\n              onClick={(e) => {\n                e.preventDefault();\n                setData(getNewMusicMap(initialData));\n              }}\n            >\n              <RefreshIcon style={{ color: \"white\" }} />\n            </IconButton>\n          </Tooltip>\n        </div>\n        by Vincent Tieu\n        <Tooltip\n          title={<div className=\"custom-tooltip-black\">Read Details</div>}\n        >\n          <IconButton\n            onClick={(e) => {\n              e.preventDefault();\n              setAboutToggle(!aboutToggle);\n            }}\n          >\n            <MenuBookIcon fontSize=\"small\" style={{ color: \"white\" }} />\n          </IconButton>\n        </Tooltip>\n      </div>\n      <div className=\"audio-player\">\n        {audioPlayerGenre !== \"\" ? (\n          <div>\n            <AudioPlayer\n              ref={audioPlayer}\n              audioPlayerKey={audioPlayerKey}\n              audioPlayerGenre={audioPlayerGenre}\n              audioPlayerUrl={audioPlayerUrl}\n              checkOnShuffle={checkOnShuffle}\n            />\n            <Tooltip\n              title={<div className=\"custom-tooltip-black\">Shuffle?</div>}\n            >\n              <IconButton\n                onClick={(e) => {\n                  e.preventDefault();\n                  if (!onShuffle) {\n                    const i = Math.floor(Math.random() * 400);\n                    togglePlay(data[i].preview_url, data[i].genre);\n                  }\n                  setOnShuffle(!onShuffle);\n                }}\n              >\n                {onShuffle ? <RepeatIcon color=\"primary\" /> : <RepeatIcon style={{ color: \"white\" }} />}\n              </IconButton>\n            </Tooltip>\n          </div>\n        ) : (\n          <div>Drag to Navigate and Click to Listen!</div>\n        )}\n      </div>\n      <MusicMap\n        data={data}\n        audioPlayerUrl={audioPlayerUrl}\n        togglePlay={togglePlay}\n      />\n    </>\n  );\n}\n\nconst AudioPlayer = forwardRef((props, ref) => {\n  const { audioPlayerKey, audioPlayerGenre, audioPlayerUrl, checkOnShuffle } = props;\n  useEffect(() => {\n    if (ref) {\n      ref.current.play();\n      ref.current.volume = 0.15;\n    }\n  }, [ref, audioPlayerGenre]);\n\n  return (\n    <div>\n      <div>Genre Playing: {printReadableString(audioPlayerGenre)}</div>\n      <br />\n      <audio ref={ref} key={audioPlayerKey} controls onEnded={checkOnShuffle}>\n        <source src={audioPlayerUrl} />\n      </audio>\n    </div>\n  );\n});\n\nfunction getNewMusicMap(arr) {\n  var n = arr.length,\n    result = new Array(n),\n    len = arr.length,\n    taken = new Array(len);\n  if (n > len)\n    throw new RangeError(\"getRandom: more elements taken than available\");\n  while (n--) {\n    var x = Math.floor(Math.random() * len);\n    result[n] = arr[x in taken ? taken[x] : x];\n    taken[x] = --len in taken ? taken[len] : len;\n  }\n  return result;\n}\n\nfunction printReadableString(str) {\n  const words = str.split(\" \");\n  const result = words.map((word) => { \n    return word[0].toUpperCase() + word.substring(1); \n  }).join(\" \");\n\n  return result\n}","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}